<!DOCTYPE html> 
<html lang="ru"> 
<head>  
    <meta charset="UTF-8">  
    <meta name="viewport" content="width=device-width, initial-scale=1.0">  
    <link rel="icon" href="static/images/favicon.ico">  
    <title>DESERTIKA</title>  
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.14.0/css/all.min.css"> 
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css"> <!-- Подключаем Bootstrap --> 
    <link rel="stylesheet" href="static/style/basket.css">  
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>  
    
</head>  
    
<body> 
    <div class="main2"> 
        <a href="{{ url_for('main') }}"> 
            <img src="static\images\logo.jpg" class="registration-image" oncontextmenu="return false;" onmouseover="this.title='';"> 
        </a> 
 
        <div class="base"> 
            <div class="product"> 
                <div style="text-align: left; width: 80%;"><h1><i class="fa fa-shopping-basket" aria-hidden="true"></i> Корзина</h1></div> 
                <hr color="#ccc" size="1" width="90%"> 

                {% if user.basket == [] %}
                    <h1 style="margin-top: 180px; color: grey;">Корзина пуста</h1>
                {% endif %}

                {% for pid, product in products.items() %} 

                <!-- <div class="product-box"> 
                    <div class="img-box"> 
                        <img src="static\uploads\{{ product.path_to_photo }}\main.jpg" class="image"> 
                    </div> 
                    <div class="des-box"> 
                        <h3>{{ product.name }}</h3> 
                        <p style="margin-top: 20px;">{{ product.description }}</p> 
                        <p style="margin-top: 20px;"><i class="fa fa-shopping-bag" aria-hidden="true"></i>  Вес продукта: {{ product.weight }}</p> 
                    </div> 
                    <div class="price-box"> 
                        <b>{{ product.price }}{{ product.price_text }}</b> 
 
                        <div class="quantity"> 
                            <button class="decrease-quantity" data-pid="{{ pid }}" data-price="{{ product.price }}">-</button> 
                            <span class="count">{{ product.count }}</span> 
                            <button class="increase-quantity" data-pid="{{ pid }}" data-price="{{ product.price }}">+</button> 
                        </div> 
 
                        <form action="/remove_from_basket" method="post"> 
                            <input type="hidden" name="item_id" value="{{ pid }}"> 
                            <input type="submit" value="Удалить"> 
                        </form> 
                    </div> 
                </div>  -->


                <div class="product-box"> 
                    <!-- <div class="row">  -->
                        <div class="col-md-2 col-sm-4 col-6"> 
                            <img src="static\uploads\{{ product.path_to_photo }}\main.jpg" class="img-fluid rounded" alt="Product Image"> 
                        </div> 
                        <div class="col-md-8 col-sm-6 col-5 price-box"> 
                            <div class="product-details"> 
                                <h4>{{ product.name }}</h4> 
                                <!-- <p>{{ product.description }}</p>  -->
                                <p style="margin-top: 10px;"><i class="fa fa-shopping-bag" aria-hidden="true"></i> Вес: {{ product.weight }}</p> 
                            </div> 
                            <div class="product-price"> 
                                <h4>Цена: {{ product.price }}{{ product.price_text }}</h4> 
                                <div class="quantity"> 
                                    <button class="decrease-quantity" data-pid="{{ pid }}" data-price="{{ product.price }}">-</button> 
                                    <span class="count">{{ product.count }}</span> 
                                    <!-- <input type="number" class="count-input" value="{{ product.count }}" min="1"> Добавляем поле для ввода -->
                                    <button class="increase-quantity" data-pid="{{ pid }}" data-price="{{ product.price }}">+</button> 
                                </div> 
                                <form action="/remove_from_basket" method="post"> 
                                    <input type="hidden" name="item_id" value="{{ pid }}"> 
                                    <input type="submit" value="Удалить" class="btn"> 
                                </form> 
                            </div> 
                        </div> 
                    <!-- </div>  -->
                </div>


                <hr color="#ccc" size="1" width="90%"> 
                {% endfor %} 
            </div> 

            <!-- <div class="right-box">
                <div class="order-box">
                    <div class="total">
                        <b>К оплате: <span id="total-amount"></span></b>
                    </div>
                    <div class="shop-btn">
                        <a href="#">Купить</a>
                    </div>
                </div>
            </div> -->


            <div class="bottom-bar fixed-bottom p-3" style="z-index: 9999;"> <!-- Добавляем классы Bootstrap и устанавливаем z-index --> 
                <div class="order-box"> 
                    <div class="total"> 
                        <i class="fa fa-money" aria-hidden="true" style="color: black;"></i>
                        <b>К оплате: <span id="total-amount"></span>₽</b> 
                    </div> 
                    <div class="shop-btn"> 
                        <a href="{{ url_for('order')}}" class="btn btn-primary">Купить</a> <!-- Используем классы Bootstrap для стилизации кнопки --> 
                    </div> 
                </div> 
            </div> 



        </div> 
    </div> 
    <script src="static/js/basket2.js"></script>  
</body> 
</html>
